<!DOCTYPE html>
<html lang="en">
  <head>

<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Free Online Quizzes | Quizzatopia - Explore a World of Quizzes</title>
<meta name="generator" content="Quizzatopia" />
<meta name="description" content="Prepare for exams and expand your knowledge with Quizzatopia - the ultimate quizzing hub. Join now to access a world of free online quizzes, compete, earn points, and unlock achievements. Sign up today and embark on your quizzing journey!">
<meta itemprop="name" content="Quizzatopia">
<meta property="og:title" content="Free Online Quizzes | Quizzatopia">
<meta property="og:image" content="https://www.quizzatopia.com/images/logo.png">
<meta name="Distribution" content="Global" />
<meta name="Rating" content="General" />
<meta name="copyright" content="Quizzatopia">
<meta name="language" content="English">
<meta name="reply-to" content="quizzatopia@gmail.com">
<meta name="generator" content="Adobe Dreamweaver">
<meta name="Developer" content="Ron Wilson II">
<link rel="icon" sizes="192x192" href="/favicon.ico">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta property="og:type" content="website">
<meta property="og:description" content="Quizzatopia is the ultimate destination for free online quizzes. Explore a world of quizzes ranging from fun trivia to professional exam preparation. Join now, compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta name="keywords" content="free online quiz, quiz, exam preparation, quizzing, quizzes, learning, education, fun, trivia, sign up, log in, compete, points, achievements">
<meta property="og:url" content="https://www.quizzatopia.com">
<meta name="robots" content="index,follow">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@Quizzatopia">
<meta name="twitter:title" content="Free Online Quizzes | Quizzatopia">
<meta name="twitter:description" content="Prepare for exams and expand your knowledge with Quizzatopia - the ultimate quizzing hub. Join now to access a world of free online quizzes, compete, earn points, and unlock achievements. Sign up today and embark on your quizzing journey!">
<meta name="twitter:image" content="https://www.quizzatopia.com/images/logo.png">
<meta name="twitter:url" content="https://www.quizzatopia.com">
<meta property="og:site_name" content="Quizzatopia">
<meta property="og:locale" content="en_US">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta itemprop="description" content="Prepare for exams and expand your knowledge with Quizzatopia - the ultimate quizzing hub. Join now to access a world of free online quizzes, compete, earn points, and unlock achievements. Sign up today and embark on your quizzing journey!">
<meta itemprop="image" content="https://www.quizzatopia.com/images/logo.png">
<link rel="canonical" href="https://www.quizzatopia.com">
<meta name="author" content="Ron Wilson II">
<meta name="contact" content="quizzatopia@gmail.com">
<meta name="subject" content="Quizzatopia Platform">
<meta name="topic" content="Quizzing, Education, Learning, Quizzes">
<meta name="geo.placename" content="Dallas, TX">
<meta name="geo.region" content="US-TX">
<meta name="content-language" content="en-US">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="expires" content="Tue, 01 Jan 2024 00:00:00 GMT">
<meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="pragma" content="no-cache">
<meta name="yandex-verification" content="d0fa24f78291f2fa">
<meta name="monetag" content="fe29cc60fc15dc6bc79feed41d58137c">

	  
    <!-- Organization Schema -->
   <script type="application/ld+json">
  {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Quizzatopia",
  "description": "Quizzatopia is an online platform dedicated to providing a diverse range of quizzes for individuals of all ages and backgrounds.",
  "url": "https://www.quizzatopia.com",
  "logo": "https://www.quizzatopia.com/images/logo.png",
  "sameAs": [
    "https://twitter.com/Quizzatopia",
    "https://www.facebook.com/Quizzatopia",
    "https://www.linkedin.com/company/quizzatopia",
    "https://www.reddit.com/r/Quizzatopia",
    "https://www.youtube.com/@Quizzatopia/about",
    "https://www.tiktok.com/@quizzatopia",
    "https://medium.com/@quizzatopia",
    "https://www.medium.com/@quizzatopia",
    "https://www.quora.com/profile/Quizzatopia-Your-Exam-Prep-hub-A-World-of-Quizzes",
    "https://www.tumblr.com/quizzatopia",
    "https://www.instagram.com/Quizzatopia"
  ]
}
 </script>



    <!-- Blog Schema -->
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Blog",
        "name": "Quizzatopia Blog",
        "description": "The official blog of Quizzatopia, providing additional quiz-related content and insights.",
        "url": "https://quizzatopia.blogspot.com"
    }
 </script>

  

	  
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Quizzatopia",
  "url": "https://www.quizzatopia.com",
  "description": "Quizzatopia is an online platform dedicated to providing a diverse range of quizzes for individuals of all ages and backgrounds.",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://www.quizzatopia.com/quiz?q={search_term_string}",
    "query-input": "required name=search_term_string"
  },
  "sameAs": [
    "https://twitter.com/Quizzatopia",
    "https://www.facebook.com/Quizzatopia",
    "https://www.linkedin.com/company/quizzatopia",
    "https://www.reddit.com/r/Quizzatopia",
    "https://www.youtube.com/@Quizzatopia/about",
    "https://www.tiktok.com/@quizzatopia",
    "https://medium.com/@quizzatopia",
    "https://www.medium.com/@quizzatopia",
    "https://www.quora.com/profile/Quizzatopia-Your-Exam-Prep-hub-A-World-of-Quizzes",
    "https://www.tumblr.com/quizzatopia",
    "https://www.instagram.com/Quizzatopia"
  ]
}
</script>


	  
	  
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.quizzatopia.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Quizzes",
      "item": "https://www.quizzatopia.com/quizzes"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "About",
      "item": "https://www.quizzatopia.com/about"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Quiz",
      "item": "https://www.quizzatopia.com/quiz"
    }
  ]
}
</script>


	  
	  
	
<script type="application/ld+json">

{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
     {
      "@type": "Question",
      "name": "Can I play Quizzatopia quizzes offline?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Quizzatopia quizzes are primarily online, allowing you to access them anytime, anywhere with an internet connection. However, you can try our downloadable quiz packs, which you can play offline at your convenience."
      }
    },
    {
      "@type": "Question",
      "name": "How often are new quizzes added to Quizzatopia?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "We strive to keep our quiz collection fresh and engaging. New quizzes are added regularly to Quizzatopia, ensuring that there's always something new for you to explore and enjoy. Check back often to discover the latest additions!"
      }
    },
      {
      "@type": "Question",
      "name": "Can I take quizzes for exams for free on Quizzatopia?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely! Quizzatopia provides a wide range of quizzes to help you prepare for exams at no cost. You can access and attempt these quizzes for various exams without any subscription or payment. Start practicing and boost your exam readiness with our free quizzes."
      }
    },
    {
      "@type": "Question",
      "name": "Which exams can I find quizzes for on Quizzatopia?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Quizzatopia offers quizzes for a diverse range of exams, including but not limited to: SAT, ACT, GRE, GMAT, TOEFL, IELTS, MCAT, LSAT, Bar Exam, PMP, and many more. We cover a wide array of academic, professional, and certification exams to cater to various educational needs."
      }
    },
     {
      "@type": "Question",
      "name": "What are some popular exams for college admissions?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Popular college admissions exams include the SAT, ACT, and TOEFL. These exams assess the readiness and skills of students applying for undergraduate programs and are widely recognized by universities and colleges worldwide."
      }
    },
    {
      "@type": "Question",
      "name": "Are there quizzes available for the GRE (Graduate Record Examination)?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, Quizzatopia provides quizzes to help you prepare for the GRE. Our GRE quizzes cover verbal reasoning, quantitative reasoning, and analytical writing sections, helping you familiarize yourself with the exam format and improve your performance."
      }
    },
    {
      "@type": "Question",
      "name": "Can I find quizzes for the PMP (Project Management Professional) exam?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely! Quizzatopia offers quizzes specifically designed to help you prepare for the PMP exam. Our PMP quizzes cover the knowledge areas and processes outlined in the PMBOK (Project Management Body of Knowledge), enhancing your chances of success in the exam."
      }
    },
    {
      "@type": "Question",
      "name": "Which exams does Quizzatopia provide quizzes for in the medical field?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Quizzatopia offers quizzes for a range of medical exams, such as the MCAT (Medical College Admission Test), USMLE (United States Medical Licensing Examination), and NCLEX (National Council Licensure Examination). These quizzes cover various medical disciplines and help you prepare for your medical career."
      }
    },
    {
      "@type": "Question",
      "name": "Are there quizzes available for different subjects?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely! Quizzatopia offers a wide range of quiz categories, including general knowledge, pop culture, science, history, sports, and more. Whether you're a trivia enthusiast or studying for an exam, we've got quizzes to suit your interests and needs."
      }
    },
        {
      "@type": "Question",
      "name": "What types of quizzes are available on Quizzatopia?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Quizzatopia offers a wide range of quizzes covering various categories such as Marketing, Information Technology, Design, Healthcare, Finance, Fitness, Driving, Cooking, Military, Law, Project Management, Architecture, Business, Real Estate, English Language Arts, World History, Chemistry, and more. Each category includes quizzes that test your knowledge and skills in specific areas."
      }
    },
    {
      "@type": "Question",
      "name": "Do the quizzes on Quizzatopia cover tests and exams?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, Quizzatopia includes quizzes that cover tests and exams in different fields. Whether you're preparing for professional certifications, entrance exams, or standardized tests, you can find quizzes that help you assess your knowledge, practice exam-style questions, and prepare for success."
      }
    },
    {
      "@type": "Question",
      "name": "How can the quizzes on Quizzatopia help me prepare for tests and exams?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The quizzes on Quizzatopia are designed to help you enhance your understanding of specific subjects and improve your test-taking skills. They cover important topics, provide practice questions similar to those found in actual tests and exams, and offer explanations and feedback to help you learn from your mistakes. By taking these quizzes, you can assess your readiness, identify areas for improvement, and build confidence for your upcoming tests and exams."
      }
    },
    {
      "@type": "Question",
      "name": "Where can I find quizzes for the CFA (Chartered Financial Analyst) exam?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Quizzatopia offers quizzes designed to assist you in preparing for the CFA exam. Our CFA quizzes cover topics like ethics, quantitative methods, economics, financial reporting, and more, helping you master the knowledge required for this prestigious financial certification."
      }
    },
    {
      "@type": "Question",
      "name": "Can I take quizzes to prepare for the CCNA (Cisco Certified Network Associate) exam?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely! Quizzatopia provides quizzes to help you prepare for the CCNA exam. Our CCNA quizzes cover networking concepts, routing and switching, IP addressing, and other key topics to ensure you're ready to pass this renowned certification for network professionals."
      }
    },
    {
      "@type": "Question",
      "name": "Where can I find quizzes for the AWS Certified Solutions Architect exam?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Quizzatopia offers quizzes specifically designed to help you prepare for the AWS Certified Solutions Architect exam. Our quizzes cover cloud architecture, AWS services, security, and other relevant topics, equipping you with the knowledge needed to excel in this in-demand certification."
      }
    },
    {
      "@type": "Question",
      "name": "Are there quizzes available for the CompTIA A+ certification exam?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, Quizzatopia provides quizzes to help you prepare for the CompTIA A+ certification exam. Our quizzes cover hardware, software, troubleshooting, and other essential areas, allowing you to gain the skills and knowledge required for a successful career in IT."
      }
    },
    {
      "@type": "Question",
      "name": "Can I track my progress and see my quiz results on Quizzatopia?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, Quizzatopia provides features that allow you to track your progress and view your quiz results. Upon completion of a quiz, you will receive a detailed breakdown of your performance, including your score, correct answers, and areas for improvement. You can track your overall progress, compare your scores with other users, and strive for better results as you continue to take quizzes."
      }
    },
    {
      "@type": "Question",
      "name": "Is Quizzatopia suitable for all age groups?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely! Quizzatopia caters to individuals of all ages and backgrounds. We have quizzes designed specifically for kids, as well as more challenging quizzes for adults. It's a platform where everyone can learn, have fun, and expand their knowledge."
      }
    }
  ]
}
</script>
	  

	
	  

	  

 <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="/index/Homestyle.css" />

  <!-- Import navbar and footer components -->
  <link rel="import" href="/elements/navbar.html">
  <link rel="import" href="/elements/footer.html">



  <div id="navbar"></div>
  <!-- Rest of the page content -->
  <div id="signupLoginArea"><div>

  <!-- JavaScript dependencies async -->


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"  crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script  src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.3/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.min.js"></script>
	  	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
	  	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>




  <!-- Firebase SDK -->
  <script  src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script  src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script  src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

  <!-- Custom scripts -->
  <script  src="main.js"></script> 
	  </head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9VG78SV9KZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9VG78SV9KZ');
</script>
	
<style>
.min-w{
	    min-width: 800px !important;
	}
	
	  </style>	
		  
	  <style>
  /* Styling for the creative "Sign Up" button */
  .signup-button {
    margin: auto;
    position: relative;
    display: inline-block;
    background-color: #ff8c00;
    color: #fff;
    padding: 12px 30px;
    border-radius: 30px;
    font-size: 20px;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    transition: background-color 0.3s ease;
    overflow: hidden;
    width: 100%;
}

  .signup-button:before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #ff8c00;
    opacity: 0.2;
    transform: translateY(100%);
    transition: transform 0.3s ease;
  }

  .signup-button:hover {
    background-color: #f96800;
  }

  .signup-button:hover:before {
    transform: translateY(0);
  }

  .signup-button span {
    position: relative;
    z-index: 1;
  }

  .signup-button:after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 120%;
    background-image: radial-gradient(#fff, transparent);
    transform: scale(1.4);
    opacity: 0.15;
    pointer-events: none;
  }
	.group {
display: grid;
    align-items: center;
    width: 70%;
    padding: 5%;
    margin: auto;
}
	  
#codeContainer {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  margin: 25px auto;
}

#quizCodeInput {
width: 750%;
    padding: 10px;
    margin: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

#quizCodeBTN {
	width: 25%;
	  flex: 0 0 auto;
  padding: 10px;
  background-color: #4267B2;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

#quizCodeBTN:hover {
  background-color: #3b5998;
}
#reviewModal button{
    margin: 1%;
}

#codeContainer{
display:none;
}


		  
</style>
	  
	
<body>
    <!-- rest of the page content -->
  
	  <div class="overlay"></div>


  
<div class="featured-quizzes-container">
  <div class="carousel_top">
  
    <!-- Add more quiz cards as needed -->
  </div>
</div>

  
	
	
<section class="hero">
  <div class="container">
    <div class="row">
      <div class="col-md-6 welcomeMain">
        <h1>Welcome to Quizzatopia!</h1>
        <p>Explore a world of quizzes like never before with Quizzatopia - the ultimate destination for all your quizzing needs. From fun trivia to professional exam preparation, Quizzatopia has it all. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. So, step into the world of quizzes with Quizzatopia and discover the thrill of learning through quizzing.</p>
        <a href="quizzes" class="btn btn-primary ctaBTN">Discover Your Knowledge!</a>
	      
 
	      
	      
	      
      </div>
      <div class="col-md-6 d-flex align-items-center justify-content-center">
        <img src="/images/sq/33.png" alt="Quiz Platform Image" class="img-fluid" loading="lazy">
      </div>
    </div>
  </div>
</section>


    
	
	
	
	
<div class=" container shadow py-4">
  <div class="row">

	    
	    


	  
	    
	    
  <section class="call-to-action">
  <div class="container">
    <h2>Discover Your Knowledge!</h2>
    <p>Challenge yourself with our quizzes and explore new horizons.</p>
    <a id="mainCTA" href="quiz" class="btn btn-primary">Take a Quiz Now</a>
  </div>	  
</section>
	  
	    <style>
        /* Styling for the banner */
        #bannerAction {
            background-color: #0d6efd;
            color: #333;
    padding: 10% ;
margin: -10% 0 10% 0;
		text-align: center;
            font-size: 24px;
            font-weight: bold;
            border-bottom: 2px solid #333;
            animation: funAnimation 5s infinite;
	    z-index: -1;	
        }
		            #bannerAction a {
color: #fd7e14;
    font-weight: 900 !important;
    text-shadow: -1px 1px black;
		    }

        @keyframes funAnimation {
            0% {
                transform: translateY(-100%);
            }
            50% {
                transform: translateY(0%);
            }
            100% {
                transform: translateY(-100%);
            }
        }
    </style>
<!--b</head>
<body>n -->
	  <div id="quiz-news">
	      <h3>QuizzaTopia News:</h3><hr></div>

    <div id="bannerAction">
        <span>Loading</span>

    </div>

    <!-- Include Firebase SDK and initialize it -->

    <script>
function shuffleArray2(array) {
  // Create a copy of the array to shuffle
  const shuffled = [...array];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled; // Return the shuffled array
}
	    

//const shuffleArray = array => array.sort(() => Math.random() - 0.5);
	      let latestChallenges = [];

	      let currentIndex = 0;
function updateBannerWithExcitingNews() {


	//   latestChallenges = latestChallenges.filter(item => item !== undefined);


	
  setInterval(() => {

    currentIndex++;
    if (currentIndex >= latestChallenges.length) {
      currentIndex = 0;
    }
latestChallenges = shuffleArray2(latestChallenges);

    document.getElementById('bannerAction').innerHTML = latestChallenges[currentIndex] || "Loading";

  }, 5000); // Change the news every 3 seconds
	//console.log('latestChallenges: 3 ', latestChallenges);
}




	    
	// Function to update the banner with exciting news
function updateBannerWithLatestActions() {
  const db = firebase.firestore();
  const challengesRef = db.collection('challenges');
  const quizFeedbackRef = db.collection('quizFeedback');
  const quizReviewDataRef = db.collection('quizReviewData');
  const quizCategoryDataRef = db.collection('quizCategory');

  // Arrays to store the latest 5 items from each collection
  const latestQuizFeedback = [];
  const latestQuizReviews = [];
  const latestQuizCategory = [];






  // Query challenges collection for the latest challengeDone actions
  challengesRef
    .where('challengeDone', '==', true)
    .orderBy('requestDate', 'desc')
    .limit(5) // Retrieve the latest 5
    .onSnapshot((snapshot) => {
      latestChallenges.length = 0; // Clear the array
      snapshot.forEach((doc) => {
        const challenge = doc.data();
        latestChallenges.push(`${challenge.challengerName} finish <a href="${challenge.quizLink} " class="challengeNof">${challenge.quizName} challenge</a> `);
      });
      // Update the banner with the latest challenges




//      bannerElement.innerHTML = latestChallenges.join(' ');
    });

  quizCategoryDataRef
    .where('addBy', '==', "Admin")
    .orderBy('viewCount', 'desc')
    .limit(5) // Retrieve the latest 5
    .onSnapshot((snapshot) => {
      latestQuizCategory.length = 0; // Clear the array
      snapshot.forEach((doc) => {
        const category = doc.data();
        latestChallenges.push(`A lot of user are checking out the <br><a href="https://www.quizzatopia.com/category/?${category.name}">${category.name}  Category</a> `);
      });
      // Update the banner with the latest challenges

//      bannerElement.innerHTML = latestChallenges.join(' ');
    });



  // Query quizFeedback collection for the latest rating actions
  quizFeedbackRef
    .where('feedbackType', '==', 'stars')
    .orderBy('date', 'desc')
    .limit(5) // Retrieve the latest 5
    .onSnapshot((snapshot) => {
      latestQuizFeedback.length = 0; // Clear the array
      snapshot.forEach((doc) => {
        const rating = doc.data();
let starRating = rating.rating;
let rateURL = "";
let rateName = "";
	      
if(rating.quizName !== ""){
rateName = rating.quizCode;
}else{
rateName = rating.quizName;
	    }
if(rating.quizURL !== ""){
rateURL = rating.quizCode;

}else{
rateURL = rating.quizURL;
	}
	 	    
if (starRating >= 3) {
  latestChallenges.push(`User Rated Quiz <a href="quiz/stats/?q=${rateURL}">${rateName}</a><br>  ${starRating} stars - Must be Good!`);
} else {
  latestChallenges.push(`User Rated Quiz <a href="quiz/stats/?q=${rateURL}">${rateName}</a><br>  ${starRating} stars - Let's check it out`);
}


	      
      });
	        //console.log('latestQuizFeedback:', latestQuizFeedback);

      // Update the banner with the latest quiz feedback
   //   bannerElement.innerHTML = latestQuizFeedback.join(' ');
    });




	    
  // Query quizFeedback collection for the latest rating actions
let totalCorrect = 0;
let totalIncorrect = 0;

quizReviewDataRef
  .orderBy('timeStamp', 'desc')
  .limit(5)
  .onSnapshot((snapshot) => {
    totalCorrect = 0; // Reset the total correct count
    totalIncorrect = 0; // Reset the total incorrect count

    snapshot.forEach((doc) => {
      const quizReview = doc.data();
      
      // Check the correctness of each question and update counts
      quizReview.questionStatInfo.forEach((question) => {
        if (question.correctness === 'correct') {
          totalCorrect++;
        } else if (question.correctness === 'incorrect') {
          totalIncorrect++;
        }
      });

    // Calculate percentages
    const totalResponses = totalCorrect + totalIncorrect;
    const percentageCorrect = (totalCorrect / totalResponses) * 100;
    const percentageIncorrect = (totalIncorrect / totalResponses) * 100;


let challengeMessage = '';

	    let reviewURL = "";
if(quizReview.quizURL !== ""){
reviewURL = quizReview.quizCode;

}else{
reviewURL = quizReview.quizURL;
	}

	    
if (percentageCorrect >= 70) {
  challengeMessage = `Incredible! Someone just passed <br><a href="quiz/stats/?q=${reviewURL}">${quizReview.quizName}</a> <br>with a score of <span class="percentage">${percentageCorrect.toFixed()}%</span>!`;
} else {
  challengeMessage = `Oh no! Someone just attempted <br><a href="quiz/stats/?q=${reviewURL}">${quizReview.quizName}</a> <br>but scored only <span class="percentage">${percentageCorrect.toFixed()}%</span>.<br> See if you can do better!`;
}

latestChallenges.push(challengeMessage);







    });

  //  console.log('latestQuizReviews:', latestQuizReviews);


   //   bannerElement.innerHTML = latestQuizReviews.join(' ');

	    
 });


updateBannerWithExcitingNews();

}

// HTML Element for the Banner
//const banner = document.getElementById('bannerAction');
// Call the function to start updating the banners
updateBannerWithLatestActions();

    </script>
	    
	<style>
    .container a{
	        color: #fd7e14;
    text-decoration: none;

	font-weight: 700;    
    }
	    
	    
	.quiz-categories .row {
  display: flex;
  flex-wrap: wrap;
flex: auto;
}

.quiz-categories .col {
  flex: 1;
}

/* Ensure equal height for all category-cards */
.category-card {
  display: flex;
  flex-direction: column;
}

.category-card .category-image {
  flex: 1;
	    min-width: 33%;
    display: block;
    object-fit: cover;
    min-height: 200px;
}
@media (max-width: 700px)  {
  /* Your CSS styles here */
 .category-card .category-image {
	    min-width: 49%;

}
#quiz-categories-container .col{
   min-width: 49%;
}
		

}


.category-card h3 {
  margin: 10px 0;
}
    
	
	/*   

	   
    
	
	<section id="quiz-categories-container" class="quiz-categories">
  <div class="container">
    <div class="row">
      <div class="col">
        <a href="https://www.quizzatopia.com/category/?Technology" class="category-link">
          <div class="category-card">
            <img src="https://www.quizzatopia.com/images/sq/15.png" alt="Information Technology Category" class="category-image">
            <h3> Technology</h3>
          </div>
        </a>
      </div>
      <div class="col">
        <a href="https://www.quizzatopia.com/category/?Healthcare" class="category-link">
          <div class="category-card">
            <img src="https://www.quizzatopia.com/images/sq/24.png" alt="Healthcare Category" class="category-image">
            <h3>Healthcare</h3>
          </div>
        </a>
      </div>
      <div class="col">
        <a href="https://www.quizzatopia.com/category/?Business" class="category-link">
          <div class="category-card">
            <img src="https://www.quizzatopia.com/images/sq/9.png" alt="Bussiness Category" class="category-image">
            <h3>Business</h3>
          </div>
        </a>
      </div>
      <!-- Add more category cards as needed -->
    </div>
  </div>
		   <a href="https://www.quizzatopia.com/quizzes/" target="_blank"> <h2>See all our Categories</h2></a>

</section>
*/
	   
	</style>

	<section  class="quiz-categories">
  <div class="container">
    <div id="quiz-categories-container" class="row">
		<div class="loading_Main ">Loading...</div>
    </div></div>
	</section>








	  
	    <section id="searchCode">	
    <div class="group">
<button id="mainSignupBtn" class="signup-button" onclick="openPopup('signup'); "><span>Sign Up</span></button>
 
<div id="codeContainer">
<input type="text" placeholder="quiz topic" value="" name="code" id="quizCodeInput">
	<button id="quizCodeBTN" onclick="">Get Quiz</button>
  </div>
  </div>
</section>
	    
	    
	    
	
	    
	
	  </div>
	 
	 
    
	    
	<style>
    
	    
.leaderboard-banner {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #fd7e14;
    color: white;
    padding: 5%;
    font-weight: 800;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
}



.leaderboard-btn {
    display: inline-block;
    padding: 1em 1.5em;
    background-color: #4267b2;
    color: white;
    margin: auto;
    font-size: 1.5em;
    text-decoration: none;
    border-radius: 4px;
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    transition: background-color 0.2s ease;
}

.leaderboard-btn:hover {
  background-color: #fd7e14;
    color: #4267b2;

}

.leaderboard-btn:active {
  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.1);
  transform: translateY(1px);
}

.leaderboard-btn:focus {
  outline: none;
}

/* CSS for Weekly Category Companion Banner */
.weekly-companion-banner {
    text-align: center;
    padding: 10px;
    font-weight: 800;
    border-radius: 5px;
    font-size: 1.2em;
}

.weekly-companion-banner p {
  margin: 5px 0;
}
.weekly-companion-banner 
.btn {
  display: inline-block;
  padding: 8px 20px;
  background-color: #fd7e14;
  color: #fff;
  text-decoration: none;
  border-radius: 5px;
  transition: background-color 0.3s;
	    font-weight: 800;
    border-radius: 5px;
    font-size: 1.2em;
}

.btn:hover {
  background-color: #0056b3;
}

.picBMC {
    width: 70%;
    padding: 5%;
    height: auto;
    margin: auto;
    margin-top: 10px;
}



	</style>

	<script>
// Function to shuffle an array
function shuffleArray(array) {
  const shuffled = [...array];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
}
		function getRandomCategories() {
  const db = firebase.firestore();
  const categoriesRef = db.collection('quizCategory');
  const excludedCategory = 'Buy Me A Coffee'; // The category to exclude

  return categoriesRef
    .where('name', '!=', excludedCategory) // Exclude the specified category
    .get()
    .then((querySnapshot) => {
      const categories = [];
      querySnapshot.forEach((doc) => {
        categories.push(doc.data()); // Push category data to the array
      });

      // Shuffle the categories array to get random categories
      const shuffledCategories = shuffleArray(categories);

      // Return the first 3 categories (or less if there are fewer)
      return shuffledCategories.slice(0, 3);
    });
}

// Function to generate HTML for the categories
function generateCategoryHTML(categories) {
  const categoryContainer = document.getElementById('quiz-categories-container');
  const categoryHTML = categories.map((category) => {
    return `
      <div class="col">
        <a href="https://www.quizzatopia.com/category/?${category.name}" class="category-link">
          <div class="category-card">
            <img src="${category.imageUrl}" alt="${category.name} Category" class="category-image">
            <h3>${category.name}</h3>
          </div>
        </a>
      </div>
    `;
  });

  // Append the generated HTML to the container
  categoryContainer.innerHTML = categoryHTML.join('');

  // Add a link to see all categories
  const seeAllCategoriesLink = document.createElement('a');
  seeAllCategoriesLink.href = 'https://www.quizzatopia.com/quizzes/';
  seeAllCategoriesLink.target = '_blank';
  seeAllCategoriesLink.innerHTML = '<h2>See all our Categories</h2>';
  categoryContainer.appendChild(seeAllCategoriesLink);
}



		function getRandomCategory() {
  const categories = [
    'Healthcare',
    'Gaming',
    'Business',
    'Driving',
    'TV',
    'Architecture',
    'Technology',
    'Music',
    'Entertainment',
    'Marketing',
    'Geography',
    'E-Commerce',
    'Science',
    'Personality',
    'Real Estate',
    'Professional Certification',
    'Finance',
    'History',
    'Language',
    'Self-Help',
    'Job Interview',
    'Sports',
    'Fun'
  ];

  // Generate a random index within the length of the categories array
  const randomIndex = Math.floor(Math.random() * categories.length);

  // Return the random category
  return categories[randomIndex];
}

function setCatagories() {

// Usage: Get random categories and generate HTML
getRandomCategories()
  .then((categories) => {
	  console.log('setCatagories categories: ', categories);
    generateCategoryHTML(categories);
  })
  .catch((error) => {
    console.error('Error:', error);
  });

		}

// Function to update the weekly category companion banner
function updateWeeklyCompanion() {
  const companionCategory = document.getElementById('companionCategory');
  const companionCategoryPlural = document.getElementById('companionCategoryPlural');
  const companionCategoryTitle = document.getElementById('companionCategoryTitle');
  const companionLink = document.getElementById('companionLink');

  // Get a random category
  const randomCategory = getRandomCategory();
	
getWeeklyChallegeInfo();
	
  // Set the content of the banner
//  companionCategory.textContent = randomCategory;
  companionCategoryPlural.textContent = `${randomCategory}s`; // Plural form
  companionCategoryTitle.textContent = randomCategory;
  companionLink.href = `https://www.quizzatopia.com/category/?${randomCategory}`;

  // You can also set the link text if needed
  // companionLink.textContent = `Explore ${randomCategory} Quizzes`;
}
var intervalId = setInterval(setCatagories, 8000);


// Function to get the weekly category if the user is logged in
function getWeeklyCategoryIfLoggedIn() {
 const db = firebase.firestore();
  const quizCategoryRef = db.collection("quizCategory");

  // Query for the category where weeklyChallenge is equal to "Active"
  return quizCategoryRef
    .where("weeklyChallenge", "==", true)
    .get()
    .then((querySnapshot) => {
      if (querySnapshot.docs.length > 0) {
        // Assuming there's only one such category, so we take the first one
        const categoryDoc = querySnapshot.docs[0];
        const categoryData = categoryDoc.data();
        return categoryData; // Return the category data
      } else {
        console.log("No active weekly challenge category found.");
        return null; // No active category found
      }
    })
    .catch((error) => {
      console.error("Error fetching active weekly challenge category:", error);
      return null; // Handle the error gracefully
    });
}


	

	</script>
<!-- HTML for Weekly Category Challenge Banner -->
<div class="weekly-companion-banner">
<div id="weeklyCompanion">
  <p>🌟 Login and join in with our Weekly Category Competition! 🌟</p>
  <p>Discover our <span id="companionCategoryPlural"></span> quizzes and challenge your knowledge!</p>
  <a href="#" id="companionLink" class="btn btn-primary">Explore <span id="companionCategoryTitle"></span> Quizzes</a>
</div>

  <p>Sponsor a Competition</p>
  <a href="https://www.buymeacoffee.com/Quizzatopia" target="_blank">
    <img class="picBMC" src="/images/bmc.png" alt="Buy Me a Coffee" />
  </a>
</div>

	    
	  <div class="leaderboard-banner">
  <a href="https://www.quizzatopia.com/Leaderboard/" class="leaderboard-btn">Check out the Leaderboard!</a>
</div>

	

	 
<script>

function redirectToLeaderboard(category) {
    window.location.href = `/Leaderboard/?category=${category}`;
}


	  
function getTop5UsersAndDisplayTable() {
  const db = firebase.firestore();
  const weeklyChallengeRef = db.collection("weeklyChallenge");
let count = 0;
  // Query the top 5 users based on some criteria, e.g., score
  weeklyChallengeRef
    .orderBy("score", "desc") // Assuming there's a "score" field for ranking users
    .limit(3)
    .get()
    .then((querySnapshot) => {
      const weeklyCompanionList = document.getElementById("weeklyCompanionList");
count++;
      // Create an HTML table to display the user info
      const table = document.createElement("table");
      table.classList.add("table"); // Add Bootstrap table styling

      // Create the table header
      const thead = document.createElement("thead");
      thead.innerHTML = `
        <tr>
          <th scope="col">Rank</th>
          <th scope="col">User</th>
          <th scope="col">Score</th>
        </tr>
      `;
      table.appendChild(thead);

      // Create the table body
      const tbody = document.createElement("tbody");
      let rank = 1;
      querySnapshot.forEach((doc) => {
        const userData = doc.data();
const tr = document.createElement("tr");
tr.classList.add("top_"+count);
tr.innerHTML = `
  <th scope="row">${rank}</th>
  <td>
    <img src="${userData.userPictureURL}" alt="User Picture" style="max-width: 50px; max-height: 50px;">
    ${userData.username}
  </td>
  <td>${userData.score}</td>
`;

        tbody.appendChild(tr);
        rank++;
      });

      table.appendChild(tbody);
      weeklyCompanionList.appendChild(table);
    })
    .catch((error) => {
      console.error("Error fetching top users:", error);
    });
}



function getWeeklyChallegeInfo(){
		  console.log('getWeeklyChallegeInfo: ', loggedIn);

	  if (loggedIn  === true) {
	console.log("getWeeklyCategoryIfLoggedIn:");

	getWeeklyCategory()
  .then((category) => {
   console.log(`Weekly Category: ${category}`);
    // You can use the category as needed here
let weeklyChallegeDiv =  document.getElementById('weeklyCompanion');
weeklyChallegeDiv = ` <p>🌟The Weekly Category Challenge is🌟</p>
<a href="#" id="companionLink" class="btn btn-primary"> <span>${category}</span> </a>
<div id="weeklyCompanionList"><div class="loading_Main" onclick="redirectToLeaderboard(${category})">Loading...</div>
</div> 		  
     `; 	

// Call the function to fetch and display the top 5 users
getTop5UsersAndDisplayTable();	
  })
  .catch((error) => {
    console.error(error.message);
  });

}else{	
	// Call the function to update the banner when needed
updateWeeklyCompanion();
		
	}
}
	
</script>


	  
	  
	  
	
	  </div>
	
	

	  <style>
    .background {
      fill: #0d6efd;
    }
    .text {
      font-family: Arial, sans-serif;
      font-size: 36px;
      fill: #fff;
      text-anchor: middle;
    }
    .subtext {
      font-family: Arial, sans-serif;
font-size: 30px;
    fill: #fff;
    text-anchor: middle;
    font-weight: 900;
    }
	  .card{
		    min-height: 350px;  
	  }
	  .card-body{
	    min-height: 250px;	  
	  }
		  
		    .review{
	
    object-fit: fill;
}  
	  }


		  .bMC_link {
    width: 30%;
    margin: 2% auto;
}
	.bMC_link a {
    text-decoration: none;
    width: 100%;
    display: block;
}
	.bMC_link img {
    top: 0;
    bottom: 0;
    margin: auto;
    width: 40%;
    position: absolute;
    left: 0;
    right: 0;
	}


  </style>
<style>
        /* Styling for the banner */
        #banner {
            background-color: #007bff;
            color: #fff;
            text-align: center;
            padding: 15px;
        }

        #banner h2 {
            font-size: 24px;
            margin: 0;
            padding: 5px 0;
        }

        #banner p {
            font-size: 16px;
            margin: 0;
            padding: 5px 0;
        }

        #banner a {
            color: #fff;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Banner -->
    <div id="banner">
        <h2>Challenge Your Friends to a Quiz!</h2>
    <p>Put your friends' knowledge to the test with fun quizzes!</p>
    </div>

    <!-- Your website content goes here -->

    <script>
        const loginButton = document.getElementById('banner');

        // Handle the "Log In" button click
        loginButton.addEventListener('click', function (event) {

if(loggedIn  === true){
window.location.href = '/challenge';
	    }else{
viewDashboard();
	    }
	    
        });
    </script>
	  
	
  
 <div class="container py-4">
  <div id="quiz-carousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#quiz-carousel" data-slide-to="0" class="active"></li>
      <li data-target="#quiz-carousel" data-slide-to="1"></li>
      <li data-target="#quiz-carousel" data-slide-to="2"></li>
    </ol>

    <!-- Slides -->
    <div class="carousel-inner">
      <div class="carousel-item active ">
        <!-- Add more review cards here -->
    <!-- Add more review cards here -->
    <div class="row">
      
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
           <img src="/images/pics/14.png" class="card-img-top review" alt="Profile Picture 8">
          <div class="card-body">
            <h5 class="card-title">Daniel Adams</h5>
            <p class="card-text"> The quizzes cover a wide range of topics and have significantly helped me with my biology and chemistry exams.</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
          <img src="/images/pics/1.png" class="card-img-top review" alt="Profile Picture 9">
          <div class="card-body">
            <h5 class="card-title">Sophie Thompson</h5>
            <p class="card-text">As a medical student, Quizzatopia has become an indispensable tool in my studies.  It's like having a personal tutor guiding me through my exams. Highly recommended!</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center"  style="min-width: 250px !important;">

    <!-- ads -->
	<div class="bMC_link">
      <a href="https://www.buymeacoffee.com/Quizzatopia" target="_blank"><img src="/images/bmc.png" alt="Buy Me A Coffee" id="adPic"></a>
    </div>
	
				          <!-- nothingg here -->

	 </div>	
	 </div>	
		
		
		
		
		          <!--  more review cards here -->

        </div>
      </div>
      <div class="carousel-item ">
	      
     <!-- ads -->
	      
	      


	      
	      
	      
	      
     <!-- Add more review cards here -->
    <div class="row">
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
         <img src="/images/pics/9.png" class="card-img-top review" alt="Profile Picture 6"  loading="lazy">
          <div class="card-body">
            <h5 class="card-title">Michael Johnson</h5>
            <p class="card-text">Quizzatopia has been a great learning resource for me. The quizzes are well-structured and highly informative. </p>
          </div>
        </div>
      </div>
      <!-- Add more review cards here -->
   
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
        

		     <!-- ads -->

	<div class="bMC_link">
      <a href="https://www.buymeacoffee.com/Quizzatopia" target="_blank"><img src="/images/bmc.png" alt="Buy Me A Coffee" id="adPic"></a>
    </div>
		
		
		
		
		<!--
          <img src="/images/pics/3.png" class="card-img-top review" alt="Profile Picture 12"  loading="lazy"> 
<div class="card-body">
            <h5 class="card-title">David Wilson</h5>
            <p class="card-text">They have become an essential tool in my exam preparation, especially for my upcoming biology and chemistry exams. </p>
          </div>
		
		-->
        </div>
      </div>
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
          <img src="/images/pics/13.png" class="card-img-top review" alt="Profile Picture 13"  loading="lazy">
          <div class="card-body">
            <h5 class="card-title">Olivia Smith</h5>
            <p class="card-text">I can't recommend Quizzatopia enough! </p>
          </div>
        </div>
      </div>
		
		
	
		
          <!--  more review cards here -->
        </div>
      </div>
      <div class="carousel-item ">

	      
	      
	      
	      
       <!-- Add more review cards here -->
    <div class="row">
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
     <!-- ads -->

<div class="bMC_link">
      <a href="https://www.buymeacoffee.com/Quizzatopia" target="_blank"><img src="/images/bmc.png" alt="Buy Me A Coffee" id="adPic"></a>
    </div>
		
        </div>
      </div>
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
          <img src="/images/pics/7.png" class="card-img-top review" alt="Profile Picture 14"  loading="lazy">
          <div class="card-body">
            <h5 class="card-title">Noah Thompson</h5>
            <p class="card-text">Quizzatopia is a game-changer for exam preparation! Give it a try!</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
          <img src="/images/pics/16.png" class="card-img-top review" alt="Profile Picture 15"  loading="lazy">
          <div class="card-body">
            <h5 class="card-title">Ava Davis</h5>
            <p class="card-text">I can't express how much I love Quizzatopia!</p>
          </div>
        </div>
      </div>
    
		
		
	
          <!--  more review cards here -->
        </div>
      </div>
    </div>

	  
	  
	    </div>
      </div>
      <div class="carousel-item ">
	   <!-- Add more review cards here -->
    <div class="row">    
	  
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
           <img src="/images/pics/6.png" class="card-img-top review" alt="Profile Picture 5">
          <div class="card-body">
            <h5 class="card-title">Emily Davis</h5>
            <p class="card-text">Quizzatopia is my favorite platform for quizzes. It's informative, entertaining, and keeps me hooked!</p>
          </div>
        </div>
      </div>
	  
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
          <img src="/images/pics/11.png" class="card-img-top review" alt="Profile Picture 16"  loading="lazy">
          <div class="card-body">
            <h5 class="card-title">Ethan Martinez</h5>
            <p class="card-text">Quizzatopia is a must-have for any student!</p>
          </div>
        </div> 
      </div>
      <div class="col-md-6 col-lg mb-4 ">
        <div class="card text-center">
          <img src="/images/pics/4.png" class="card-img-top review" alt="Profile Picture 11"  loading="lazy">
          <div class="card-body">
            <h5 class="card-title">Jessica Nguyen</h5>
            <p class="card-text">Quizzatopia has made learning fun and interactive. The quizzes are challenging and help me retain information effectively.</p>
          </div>
        </div>
      </div>
	  
	  
	  
	    </div>
      </div>
	  
	  
	  
    <!-- Controls -->
    <a class="carousel-control-prev" href="#quiz-carousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#quiz-carousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

	

	</div>
    

	
	
	
	
	
	
	
	
	<style>
	.cookie-banner {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: #f8f9fa;
  padding: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.banner_logo {
    /* width: 80px; */
    /* height: 80px; */
    /* background-image: url(/images/logo.png); */
    /* background-size: cover; */
}

#onetrust-policy-text {
      margin-bottom:: 5%;
  font-size: 14px;
  line-height: 1.5;
  color: #333;
}

#onetrust-policy-text a {
  color: #007bff;
  text-decoration: none;
}

#onetrust-policy-text a:hover {
  text-decoration: underline;
}

#onetrust-accept-btn-handler {
  background-color: #007bff;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

#onetrust-accept-btn-handler:hover {
  background-color: #0056b3;
}

.onetrust-close-btn-handler {
  background-color: transparent;
  border: none;
  padding: 0;
  width: 20px;
  height: 20px;
  cursor: pointer;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  outline: none;
}

.pollBTNs{
  background-color: #d1d1d1;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
		}
	
	
	</style>
	
<div role="alertdialog" aria-describedby="onetrust-policy-text" aria-label="Privacy" class="cookie-banner">
  <div class="ot-sdk-container">
    <div class="ot-sdk-row">
      <div id="onetrust-group-container" class="ot-sdk-eight ot-sdk-columns">
        <div class="banner_logo"></div>
        <div id="onetrust-policy">
          <p id="onetrust-policy-text">
            By clicking "Allow", you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts.
            <a href="./legal/cookies" aria-label="More information about your privacy">Cookie Notice</a>
          </p>
        </div>
      </div>
      <div id="onetrust-button-group-parent" class="ot-sdk-three ot-sdk-columns">
        <div id="onetrust-button-group">
          <button id="onetrust-accept-btn-handler">Allow</button>
        </div>
      </div>
    </div>
  </div>
  <div id="onetrust-close-btn-container">
    <button class="onetrust-close-btn-handler onetrust-close-btn-ui banner-close-button ot-close-icon" style='' aria-label="Close"></button>
  </div>































	
<script>
var pollDocID = '';

function getActivePollQuestion() {

//      console.log(`getActivePollQuestion`);

    const db = firebase.firestore();
    const pollRef = db.collection("polls");

    // Query for active poll questions
    return pollRef
        .where("active", "==", true)
        .get()
        .then((querySnapshot) => {
            if (querySnapshot.empty) {
                return null; // No active polls found
            }

            const pollDocs = querySnapshot.docs; // Get an array of poll documents
            const randomIndex = Math.floor(Math.random() * pollDocs.length);
            const pollDoc = pollDocs[randomIndex]; // Choose a random poll document

            const pollData = pollDoc.data();
             pollDocID = pollDoc.id;
const poll = localStorage.getItem('poll');
// console.log(`getItem ${poll} `);
if (poll === pollDocID) {
return;
	}else{
            showMainMessage(`<div id="poll-container">
                <h3>Poll Question:</h3>
                <p id="poll-question">${pollData.question}</p>
                <button class="pollBTNs" id="yes-button" onclick="answerPoll('${pollDocID}', 'yes')">Yes</button>
                <button class="pollBTNs" id="no-button" onclick="answerPoll('${pollDocID}', 'no')">No</button>
            </div>`);
    //  console.log(`question ${pollData.question} `);
// Start listening for changes to the active poll question
    listenForPollChanges(pollDocID);
	}
        });
}



function answerPoll(pollDocID, answer) {
	
localStorage.setItem('poll', pollDocID);
 console.log(`setItem poll ${pollDocID} `);
	
    const db = firebase.firestore();
    const pollRef = db.collection("polls").doc(pollDocID);

    return db.runTransaction((transaction) => {
        return transaction.get(pollRef).then((pollDoc) => {
            const pollData = pollDoc.data();

            // Initialize counts if they don't exist
            if (!pollData.counts) {
                pollData.counts = {
                    yes: 0,
                    no: 0,
                };
            }

            // Update counts based on the user's answer
            if (answer === "yes") {
                pollData.counts.yes++;
            } else if (answer === "no") {
                pollData.counts.no++;
            }

            // Update the poll document
            transaction.update(pollRef, {
                counts: pollData.counts,
                answers: firebase.firestore.FieldValue.arrayUnion(answer),
            });

            return pollData.counts;
        });
    })
    .then((counts) => {
        showMainMessage(`Poll answer successfully updated!`);
    })
    .catch((error) => {
        console.error("Error updating poll answer:", error);
    });
}




// Function to listen for changes to the active poll question
function listenForPollChanges(pollDocID) {

	 //     console.log(`pollId2 ${pollDocID} `);

    const db = firebase.firestore();
    const pollRef = db.collection("polls").doc(pollDocID); // Replace with your poll document ID

    pollRef.onSnapshot((doc) => {
        const pollData = doc.data();

    }, (error) => {
        console.error("Error listening for poll changes:", error);
    });
}



// Wrap your poll setup code in a setTimeout function
setTimeout(() => {
    getActivePollQuestion();

    
}, 10000); // 10000 milliseconds (10 seconds) delay


	
  if (loggedIn === true) {
document.getElementById('searchCode').style.display = "none";

  }
	
function getQuizLink() {
  // Get the value entered in the quizCodeX input box
const quizCodeX = document.getElementById('quizCodeInput').value;
//console.log(`quizCodeX: ${quizCodeX}`);
const db = firebase.firestore();

// Retrieve the quizLinkX based on the quizCodeX from the database
db.collection('quizzes').where('quizCodeDB', '==', quizCodeX).get()
  .then((querySnapshot) => {
    if (!querySnapshot.empty) {
      const quizLinkX = querySnapshot.docs[0].data().quizLinkDB;
      console.log(`quizLinkX: ${quizLinkX}`);

	    
	    
	    
	    // Redirect to the quizLinkX page
       window.location.href = "/quiz"+quizLinkX;
    } else {
      console.log(`Quiz with code ${quizCodeX} does not exist.`);
    }
  })
  .catch((error) => {
    console.log('Error getting quiz link:', error);
  });

   
}
	
	
	
	
  // Function to save user's preference
  function saveCookieConsent() {
    localStorage.setItem('cookieConsent', 'true');
  }

  // Function to check if user has given consent
  function hasCookieConsent() {
    return localStorage.getItem('cookieConsent') === 'true';
  }

  // Function to remove the cookie consent banner
  function removeCookieBanner() {
    const cookieBanner = document.querySelector('.cookie-banner');
    cookieBanner.remove();
  }

  // Event listener for clicking "Allow All" button
  const acceptBtn = document.getElementById('onetrust-accept-btn-handler');
  acceptBtn.addEventListener('click', function () {
    saveCookieConsent();
    removeCookieBanner();
  });

  // Check if user has given consent
  if (hasCookieConsent()) {
    removeCookieBanner();
  }
	


	  if (loggedIn  === true) {
 document.getElementById('mainSignupBtn').style.display = "none";
	  }	
		
		


	
		


	

	
	
	
	

			</script>

	<div id="bMC_link">
      <a href="https://www.buymeacoffee.com/Quizzatopia" target="_blank"><img src="/images/bmc.png" alt="Buy Me A Coffee" id="adPic"></a>
    </div>
	
  </body>

	

	<script src="/index/main.js"></script>

      	    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="Quizzatopia" data-description="Support me on Buy me a coffee!" data-message="Thank you for visiting our website! We appreciate your time and hope you had a great experience. If you have any feedback or questions, feel free to reach out to us. We look forward to seeing you again soon!" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18"></script>

</html>
