<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Quizzatopia - Explore a World of Quizzes</title>
    <meta name="generator" content="Quizzatopia" />
    <meta name="description" content="Explore quizzes related to Professional Certification at Quizzatopia. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation.">
    
    <!-- Open Graph metadata for Facebook -->
    <meta property="og:title" content="Category: Professional Certification | Quizzatopia">
    <meta property="og:description" content="Explore quizzes related to Professional Certification at Quizzatopia. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation.">
    <meta property="og:image" content="https://www.quizzatopia.com/images/logo.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://www.quizzatopia.com/category/?Professional%20Certification">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Quizzatopia">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card metadata -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@Quizzatopia">
    <meta name="twitter:title" content="Category: Professional Certification | Quizzatopia">
    <meta name="twitter:description" content="Explore quizzes related to Professional Certification at Quizzatopia. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation.">
    <meta name="twitter:image" content="https://www.quizzatopia.com/images/logo.png">
    <meta name="twitter:url" content="https://www.quizzatopia.com/category/?Professional%20Certification">
    
    <!-- Schema.org markup for Google+ -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebPage",
            "name": "Quizzatopia.com Category",
            "description": "Explore quizzes related to any category at Quizzatopia. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation.",
            "url": "https://www.quizzatopia.com/category/?Professional%20Certification"
        }
    </script>
	<style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      text-align: center;
      background-color: #007bff;
      color: #fff;
      padding: 10px;
    }

    section {
      margin: 20px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #f9f9f9;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    h2 {
      margin-top: 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      border: 1px solid #ddd;
    }

    table, th, td {
      border: 1px solid #ddd;
    }

    th, td {
      padding: 8px;
      text-align: left;
    }


	 
    .btnMain {
 background-color: #fd7e14;
    color: white;
    border: none;
    border-radius: 1em;
    padding: 2%;
    font-size: calc(1rem + 2vw);
    font-weight: 600;
    text-shadow: -4px 2px 0px #6b6a6a;
    box-shadow: 3px 3px 0rem 3px #b98c03 !important;
    cursor: pointer;
    text-align: center;
    height: fit-content;
    margin: auto;
    }

    button:hover {
      background-color: #f25900;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li {
      margin-bottom: 10px;
    }

    a {
      text-decoration: none;
      color: #007bff;
    }

    a:hover {
      color: #0056b3;
    }




/* You can further style the buttons, fonts, and layout as per your design */


		
</style>
	  	
	
	
	
  <!-- Chart.js library   background-color: yellow; -->
  <script  src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">

  <!-- Custom CSS -->


  <!-- Import navbar and footer components -->
  <link rel="import" href="/elements/navbar.html">
  <link rel="import" href="/elements/footer.html">

  <div id="navbar"></div>
  <!-- Rest of the page content -->
  <div id="signupLoginArea"><div>

  <!-- JavaScript dependencies async -->


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"  crossorigin="anonymous">


  <script  defer src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.3/umd/popper.min.js"></script>

  <script  defer src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
	  <script  defer src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.min.js"></script>

<!-- Add this in the <head> section of your HTML -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Firebase SDK -->
  <script  src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script  src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script  src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

  <!-- Custom scripts   <script  src="/main.js" defer></script> 
-->
  <script  src="/main.js" ></script> 

  </head>
	  <!-- Google Tag Manager -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9VG78SV9KZ"></script>


  <!-- Google AdSense -->

	
<body>




<style>
	
/* CSS comments for the quiz recommendations section */
.quiz-recommendations {
  padding: 4rem 0;
}

.quiz-recommendations h2 {
  font-size: 2.5
  font-weight: 700;
  margin-bottom: 2rem;
}

.quiz-info-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.quiz-info {
  background-color: #f8f9fa;
  border-radius: 0.5rem;
  padding: 2rem;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
}

.quiz-info a {
  font-size: 1.8rem;
  font-weight: 600;
  text-decoration: none;
  color: #333;
  transition: color 0.3s ease;
}

.quiz-info a:hover {
  color: #0d6efd;
}

.quiz-info p {
  font-size: 1.4rem;
  margin-bottom: 0.5rem;
}

.quiz-info p:last-child {
  margin-bottom: 0;
}



  .container a {
    text-decoration: none !important;
  }

  .list-item.box {
    border: 1px solid #e0e0e0;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    transition: box-shadow 0.3s;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	margin-bottom: 2%;  
  }

  .list-item.box:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .list-title {
    font-weight: 600;
    font-size: 22px;
    margin-bottom: 10px;
    color: #2196f3;
  }

  .list-description {
    font-size: 16px;
    color: #5f6368;
  }

  .stars {
    font-size: 24px;
    color: #f9a825;
  }

  .quiz-info {
    margin-top: 10px;
  }

  .quiz-info b {
    color: #757575;
  }

  .quiz-info p {
    margin-bottom: 5px;
  }



	

.tagsUI {
    display: flex;
    width: 100%;
    padding: 1%;
    /*justify-content: space-evenly;*/
	    overflow: hidden;

}

.tagEl {
display: block;
    font-weight: 700;
    color: #fd7e14;
    padding: 2% 3%;
    cursor: pointer;
    font-size: clamp(18px, 2vw, 24px);
    box-sizing: content-box;
    width: fit-content;
    height: fit-content;
	/*	  
    border-radius: 2em;

    background-color: #fd7e14;
    margin: 1% 0px;
    box-shadow: 0 0.5rem 1rem 9px rgb(0 0 0 / 24%);
    box-sizing: content-box;
*/
}


	.list-catergory{
    font-weight: 800;
    font-size: 1.5em;
    margin-bottom: 10px;
    color: #fd7e14;

	}


	
</style>

	

<section>
 <h1 id="title" class="list-catergory">	    <div class="loading_Main ">Loading...</div>
</h1>
    <div class="container  justify-content-center" id="quiz_list">
  <div id="updated_Quizzez" class="container">
	  
	    <div class="loading_Main ">Loading...</div>
  </div>
</div>

</section>










  <script>
//https://www.quizzatopia.com/category/?Professional%20Certification

const urlParams = window.location.href;
const categoryName = decodeURIComponent(urlParams.toString().split('?')[1]);
console.log("categoryName: ", categoryName);
document.getElementById('title').innerHTML = categoryName;


if (categoryName) {
    // If a category name is found in the URL, set it as the page title
    document.title = `Category: ${categoryName} | Quizzatopia - Explore a World of Quizzes`;
   const metaDescription = document.querySelector('meta[name="description"]');
    if (metaDescription) {
        metaDescription.setAttribute(
            'content',
            `Explore quizzes in the ${categoryName} category on Quizzatopia. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation.`
        );
    }
}

    document.getElementById('updated_Quizzez').innerHTML = "";


	// Function to convert the rating to star symbols
const ratingToStars = (rating) => {
  const filledStar = "<span>&#9733;</span>";
  const emptyStar = "<span>&#9734;</span>";

  const maxRating = 50;
  const totalStars = 5;

  const filledStarsCount = Math.ceil((rating / maxRating) * totalStars);
  const emptyStarsCount = totalStars - filledStarsCount;

  const filledStars = filledStar.repeat(filledStarsCount);
  const emptyStars = emptyStar.repeat(emptyStarsCount);

  return filledStars + emptyStars;
};


    
let countQ = 0;
// Global variables
const db = firebase.firestore();
const quizContainer = document.getElementById('quiz_list');
let lastVisibleDoc = null; // To keep track of the last visible document
let currentPage = 1;
	
// Function to fetch quiz data from Firestore and update the HTML
async function fetchQuizzesFromDB(page = 1) {
  const quizzesPerPage = 20; // Number of quizzes to fetch per page



  // Build the query to fetch quizzes with ordering
let query = db.collection('quizzes')
    .where('private', '!=', true)
    .where('quizCategoryDB', '==', categoryName)
    .orderBy('private')
    .orderBy('quizCategoryDB', 'asc')
    .orderBy('quizNameDB', 'asc');


	  /*
    .orderBy('quizRatingDB', 'desc')
    .orderBy('quizFinishedCount', 'desc')
    .orderBy('quizStartedCount', 'desc')
    .orderBy('quizNameDB', 'asc')
    .limit(quizzesPerPage);
*/
  if (lastVisibleDoc && page > 1) {
    // Use startAfter() to get quizzes after the last visible document from the previous page
    query = query.startAfter(lastVisibleDoc);
  }

  // Execute the query
  const querySnapshot = await query.get();

  const quizList = convertSnapshotToQuizList(querySnapshot);

  // Call the function to generate quiz HTML
  const generatedHtml = generateQuizHTML(quizList, page);

  // Update the last visible document for pagination
  const lastDoc = querySnapshot.docs[querySnapshot.docs.length - 1];
  lastVisibleDoc = lastDoc;


    document.getElementById('updated_Quizzez').innerHTML += generatedHtml;
  
}

// Function to convert Firestore query snapshot to quizList
function convertSnapshotToQuizList(querySnapshot) {
  const quizList = [];

  querySnapshot.forEach((doc) => {
    const quizData = doc.data();
    const quizItem = {
      quizRatingDB: quizData.quizRatingDB || 0,
      quizRatingCountDB: quizData.quizRatingCountDB || 0,
      quizDifficulty: quizData.quizDifficultyDB || quizData.quizDifficulty,
      quizCreatedByDB: quizData.quizCreatedByDB,
      quizNameDB: quizData.quizNameDB,
      quizTags: quizData.quizTagsDB || quizData.quizCategoryDB,
      quizLinkDB: quizData.quizLinkDB,
      quizStartedCount: quizData.quizStartedCount,
      quizFinishedCount: quizData.quizFinishedCount,
      quizCategoryDB: quizData.quizCategoryDB,
      numberOfQuestionsDB: quizData.numberOfQuestionsDB,
      quizDescriptionDB: quizData.quizDescriptionDB,
      quizCodeDB: quizData.quizCodeDB,
    };
    quizList.push(quizItem);
  });

  return quizList;
}

// Function to generate HTML for quizzes
function generateQuizHTML(quizList, page) {
  let html = '';
  let html2 = '';
  const startNum = (page - 1) * 20 + 1;
  let currentCatergory = ''; // Variable to keep track of the current category
  let catergoryName = ''; // Variable to store the category HTML
let count = 0;
  // Iterate over each quiz item in the combined dataset
  quizList.forEach((quizData, index) => {
	  count ++;
    let rating = quizData.quizRatingDB / quizData.quizRatingCountDB;
    const stars = ratingToStars(rating); // Assigned stars here

    let ratingUI = quizData.quizStartedCount === 0
      ? ''
      : `<p><b>Started:</b>${quizData.quizStartedCount}</p><p><b>Finished:</b>${quizData.quizFinishedCount}</p>`;

    let tagsUI = '';
    if (quizData.quizTags || quizData.quizCategoryDB) {
      let tagsArray = [];

      if (typeof quizData.quizTags !== 'undefined') {
        tagsArray = Array.isArray(quizData.quizTags) ? quizData.quizTags : quizData.quizTags.split(', ');
      }

      // Use push to add quizData.quizCategoryDB to the array
      if (quizData.quizCategoryDB) {
        tagsArray.push(quizData.quizCategoryDB);
      }

      const maxTagsToShow = 3;
var difficultyDisplay = '';
      // Use slice to get at most maxTagsToShow number of tags
      const tagsToShow = tagsArray.slice(0, maxTagsToShow);

      // Use map to iterate over the tagsToShow and generate tag elements
      const tagsElements = tagsToShow.map((tag) => `<div class='tagEl' onclick="getTag('${tag}')">${tag}</div>`);

      // Join the tag elements to create the tagsUI
      tagsUI = tagsElements.join('');
    }
/*
	  let upBTN ='';
if (quizData.quizCategoryDB !== currentCatergory) {
  currentCatergory = quizData.quizCategoryDB; // Update the current category
	if(count > 1){
	 upBTN =  '<br><br> <button type="button" class="btn btn-primary btn-lg back-to-top w-100" onclick="scrollToDiv()"><i class="fas fa-chevron-up "></i></button><br><br> ';
	}
	
	const lowercaseString = currentCatergory.toLowerCase();
const stringWithHyphens = lowercaseString.replace(/ /g, "-");

  catergoryName = upBTN +`<h2 id="${stringWithHyphens}" class="list-catergory">${currentCatergory}</h2>`; // Create the category HTML with the correct class name
} else {
  catergoryName = ''; // If it's the same category, leave it empty
}
*/
if (quizData.quizDifficultyDB || quizData.quizDifficulty === undefined || quizData.quizDifficulty === null || quizData.quizDifficulty === '') {
  difficultyDisplay = "";
} else {
  difficultyDisplay = `<p><b>Difficulty:</b> ${quizData.quizDifficultyDB || quizData.quizDifficulty}</p>`;
}


	  const quizHtml = `
      <div class="col-lg-12">
        <div class="list-item box">
          <a href="${quizData.quizLinkDB}">
            <h5 class="list-title">${quizData.quizNameDB}</h5>
            <div class="stars">${stars}</div>
            <p><b>${quizData.quizDescriptionDB || ''}</b></p>
            <div class="quiz-info">
              <p><b>CreatedBy:</b> ${quizData.quizCreatedByDB || ''}</p>
              ${difficultyDisplay}
              <p><b>Questions:</b> ${quizData.numberOfQuestionsDB || 0}</p>
              <p><b>Quiz Code:</b> ${quizData.quizCodeDB || ''}</p>
            </div>
          </a>
          <div class="tagsUI">${tagsUI}</div>
        </div>
      </div>
    `;
	 
	 // console.log(`catergoryName: ` + catergoryName);
  
catergoryName += quizHtml;

  html += catergoryName;
	  
  
  });

 

  return  html;
}



const quizzesContainer = document.querySelector('body');

	

// Function to check if the user has scrolled to the bottom of the page
function isScrollAtBottom() {
  const containerHeight = quizzesContainer.clientHeight + 100;
  const scrollOffset = quizzesContainer.scrollTop;
  const totalHeight = quizzesContainer.scrollHeight;
  console.log(`containerHeight: ` + containerHeight);
  console.log(`scrollOffset: ` + scrollOffset);
  console.log(`totalHeight: ` + totalHeight);
  return containerHeight + scrollOffset >= totalHeight;
}

// Event listener for the scroll event on the quiz container
quizContainer.addEventListener('scroll', () => {
  if (isScrollAtBottom()) {
    currentPage++; // Increment the current page number
    fetchQuizzesFromDB(currentPage); // Fetch quizzes for the next page
  }
});

// Function to handle tag filtering
async function getTag(tag) {
  console.log(`Tag: ` + tag);

  let query = db.collection('quizzes').where('quizTagsDB', 'array-contains', tag);

  // Execute the query
  let querySnapshotTag = await query.get();

  // Check if the query returned any documents
  if (querySnapshotTag.empty) {

   query = db.collection('quizzes').where('quizCategoryDB' ,"==", tag);

  // Execute the query
   querySnapshotTag = await query.get();

  if (!querySnapshotTag.empty) {
	      // Handle the case when no quizzes are found with the provided tag.
    console.log("No quizzes found with the provided tag.");
  }
  }else{
    // Convert the query snapshot to quizList using the function
    const quizListTag = convertSnapshotToQuizList(querySnapshotTag);

    // Call the function to generate quiz HTML
    const generatedHtmlTag = generateQuizHTML(quizListTag, 1);

    document.getElementById('updated_Quizzez').innerHTML += generatedHtmlTag;
    quizContainer.scrollTop = 0;
  } 
}

// Load quizzes on window load
document.addEventListener('DOMContentLoaded', function() {
  console.log(`fetchQuizzesFromDB: `);

  // Call the function to fetch and populate the quiz data for the first page
  fetchQuizzesFromDB();
});

		    
		    
	    </script>
		    
	

		    
	
   
    
    
    <div id="bMC_link">
      <a href="https://www.buymeacoffee.com/Quizzatopia" target="_blank"><img src="/images/bmc.png" alt="Buy Me A Coffee" id="adPic"></a>
    </div>

    

 </body>
	
</html>
